<div class="container mt-5">
    <h1 class="neon-text glitch text-center mb-4">Cyberpunk Message Search</h1>
  
    <!-- Form tìm kiếm (giữ nguyên) -->
    <div class="neon-card mb-4">
      <form (ngSubmit)="searchMessages()">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="neon-text">Chat ID</label>
            <input type="text" class="form-control neon-input" [(ngModel)]="searchParams.chat_id" name="chat_id" required>
          </div>
          <div class="col-md-6 mb-3">
            <label class="neon-text">From User</label>
            <input type="text" class="form-control neon-input" [(ngModel)]="searchParams.from_user" name="from_user" placeholder="@username">
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="neon-text">Offset Date</label>
            <input type="datetime-local" class="form-control neon-input" [(ngModel)]="searchParams.offset_date" name="offset_date">
          </div>
          <div class="col-md-6 mb-3">
            <label class="neon-text">End Date</label>
            <input type="datetime-local" class="form-control neon-input" [(ngModel)]="searchParams.end_date" name="end_date">
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="neon-text">Keyword</label>
            <input type="text" class="form-control neon-input" [(ngModel)]="searchParams.keyword" name="keyword">
          </div>
          <div class="col-md-6 mb-3">
            <label class="neon-text">Limit</label>
            <input type="number" class="form-control neon-input" [(ngModel)]="searchParams.limit" name="limit" min="1" max="100">
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="neon-text">Topic ID</label>
            <input type="number" class="form-control neon-input" [(ngModel)]="searchParams.topic_id" name="topic_id">
          </div>
          <div class="col-md-3 mb-3">
            <label class="neon-text">Fetch Username</label>
            <input type="checkbox" [(ngModel)]="searchParams.fetch_username" name="fetch_username" class="form-check-input">
          </div>
          <div class="col-md-3 mb-3">
            <label class="neon-text">Include Media</label>
            <input type="checkbox" [(ngModel)]="searchParams.img_flag" name="img_flag" class="form-check-input">
          </div>
        </div>
        <button type="submit" class="btn neon-btn w-100">Search</button>
      </form>
    </div>
  
    <!-- Hiển thị kết quả -->
    <div class="row">
      <div class="col-md-4 mb-3" *ngFor="let message of messages">
        <div class="neon-card">
          <p><strong class="neon-text">ID:</strong> {{ message.message_id }}</p>
          <p><strong class="neon-text">User:</strong> {{ message.user_name || 'Unknown' }}</p>
          <p><strong class="neon-text">Text:</strong> {{ message.text }}</p>
          <p><strong class="neon-text">Date (VN):</strong> {{ message.date_vn }}</p>
          <p *ngIf="message.media_base64"><strong class="neon-text">Media:</strong> <img [src]="'data:image/jpeg;base64,' + message.media_base64" class="img-fluid" alt="Media"></p>
          <p><strong class="neon-text">Link:</strong> <a [href]="message.message_link" target="_blank" class="neon-text limit-text">{{ message.message_link }}</a></p>
        </div>
      </div>
    </div>
  </div>